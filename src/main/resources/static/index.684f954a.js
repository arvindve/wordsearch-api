class e{constructor(){this.wordSelectMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridArea=null,this.words=[],this.foundWords=[]}getCellsInRange(e,t){let d=[];if((e.x>t.x||e.y>t.y)&&([t,e]=[e,t]),e.y===t.y)for(let r=e.x;r<=t.x;r++)d.push(this.gridArea.querySelector(`td[data-x="${r}"][data-y="${t.y}"]`));else if(e.x===t.x)for(let r=e.y;r<=t.y;r++)d.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${r}"]`));else if(t.y-e.y==t.x-e.x){let r=t.y-e.y;for(let t=0;t<=r;t++)d.push(this.gridArea.querySelector(`td[data-x="${t+e.x}"][data-y="${t+e.y}"]`))}return d}renderGrid(e,t){var d=document.getElementsByClassName("grid-area")[0];d.lastChild&&d.removeChild(d.lastChild),this.gridArea=d;var r=document.createElement("table"),s=document.createElement("tbody");let a=0;for(var i=0;i<e;i++){for(var l=document.createElement("tr"),o=0;o<e;o++){var c=document.createElement("td");let e=t[a++];var n=document.createTextNode(e);c.appendChild(n),c.setAttribute("data-x",i),c.setAttribute("data-y",o),c.setAttribute("data-letter",e),l.appendChild(c)}s.appendChild(l)}r.appendChild(s),d.appendChild(r),r.addEventListener("mousedown",(e=>{this.wordSelectMode=!0;const t=e.target;let d=+t.getAttribute("data-x"),r=+t.getAttribute("data-y");this.firstSelectedItem={x:d,y:r}})),r.addEventListener("mousemove",(e=>{if(this.wordSelectMode){const t=e.target;let d=+t.getAttribute("data-x"),r=+t.getAttribute("data-y");this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:d,y:r}),this.selectedItems.forEach((e=>e.classList.add("selected")))}})),r.addEventListener("mouseup",(e=>{this.wordSelectMode=!1;const t=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),d=t.split("").reverse().join("");-1!==this.words.indexOf(t)?this.foundWords.push(t):-1!==this.words.indexOf(d)?this.foundWords.push(d):this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=[]}))}}document.querySelector(".word-search").addEventListener("click",(async()=>{const t=document.querySelector("#add-word").value,d=document.querySelector("#grid-size").value;let r=await async function(e,t){let d=await fetch(`./wordgrid?gridSize=${e}&words=${t}`);return(await d.text()).split(" ")}(d,t);const s=new e;s.words=t,s.renderGrid(d,r);let a=document.createTextNode(s.words),i=document.querySelector(".word-list");i.lastChild&&i.removeChild(i.lastChild),i.appendChild(a)}));
//# sourceMappingURL=index.684f954a.js.map
